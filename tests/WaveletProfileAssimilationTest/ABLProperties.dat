# TOSCA Input file - ABLProperties 
# --------------------------------- 

# Reference velocity and height for the velocity controller. 
uRef (11.0 0.0)
hRef 110.0

# Reference potential temperature. 
tRef 303.0

# Equivalent Roughness length. 
hRough 0.15

# Height of the center of the inversion layer. 
hInv 8000.0

# Width of the inversion layer. 
dInv 100.0

# Potential temperature jump across the inversion layer. 
gInv 5.0

# Potential temperature gradient on top of the inversion layer.
gTop 0.0045

# Potential temperature gradient below the inversion layer.
gABL 0.0

# Von Karman Constant.
vkConst 0.4

# Rampanelli and Zardi temperature model parameter.
smearT 0.5

# Activation flags
coriolisActive 1
controllerActive 1
controllerActiveT 1
controllerTypeT   waveletProfileAssimilation

controllerProperties
{
    # Velocity controller type (computed->pressure/geostrphic, given->read/average)
    controllerAction    write
    controllerType 	waveletProfileAssimilation

    avgSources          0
    movingAvgWindow     600
    polynomialOrder     3
    polynomialOrderT    3

    lowerLayerForcingTypeT      mesoDataHeight
    lowerLayerForcingType       mesoDataHeight
    lowestSrcHeight     	300

    # Velocity controller gain factor 
    relaxPI 0.2

    # Velocity controller proportional over integral contribution ratio
    alphaPI 1.0

    # Velocity controller time filter
    timeWindowPI 3600
    
    waveletName                 db7
    waveletTMethod              dwt
    waveletDecompLevel          6
    waveletExtn                 symmetric
    waveletConvolution          direct
    waveletBlend		0

    # Perform geostrophic damping (only pressure controller)
    geostrophicDamping 0
    
    geoDampingAlpha      1.0
    geoDampingStartTime  5000
    geoDampingTimeWindow 4500

    # Velocity controller max height of influence 
    controllerMaxHeight 100000.0
    
    # Start time for the given momentum source average (only controller type 'average')
    controllerAvgStartTime 20010
    
    # Geostrophic height
    hGeo 1100
    
    # Geostrophic angle
    alphaGeo 0
    hAverageTime        3600
}

zDampingProperties
{
    zDampingStart   8000
    zDampingEnd     16000
    zDampingAlpha   0.035
    zDampingAlsoXY  0
    zDampingXYType  1
}

# Coriolis parameter: 7.272205217e-5 * sin(latitude)
fCoriolis 4.2980777e-5

# perturbations to trigger turbulence 
perturbations   1
